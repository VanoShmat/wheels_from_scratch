<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <title>Google Maps Rating</title>
    <style>
        #map-container {
            position: relative;
            padding-bottom: 56.25%;
            /* Співвідношення сторін 16:9 */
            height: 0;
        }

        #map-iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <h1>Google Maps Rating</h1>
    <div id="map-container">
        <iframe id="map-iframe"
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.4892311784885!2d-122.08424968468521!3d37.422065779825446!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808fb24c5f47aedd%3A0x66c06e1826f6a27d!2sGoogleplex!5e0!3m2!1sen!2sus!4v1635534440000!5m2!1sen!2sus"
            frameborder="0" allowfullscreen></iframe>
    </div>
    <div id="rating">Loading...</div>
    <script>
        function fetchRating() {
            const mapIframe = document.getElementById('map-iframe');
            const src = mapIframe.src;
            fetch(src)
                .then(response => response.text())
                .then(data => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(data, 'text/html');
                    const ratingElement = doc.querySelector('.gm-style .widget-pane-content .section-star-array');
                    if (ratingElement) {
                        const rating = ratingElement.innerText;
                        document.getElementById('rating').textContent = `Rating: ${rating}`;
                    } else {
                        document.getElementById('rating').textContent = 'Failed to retrieve rating';
                    }
                })
                .catch(error => {
                    document.getElementById('rating').textContent = 'Failed to retrieve rating';
                    console.error('Error fetching rating:', error);
                });
        }

        window.onload = fetchRating;
    </script>
</body>

</html>